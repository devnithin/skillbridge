New WebSocket connection established
Received WebSocket message: { type: 'auth', userId: 2 }
User 2 authenticated via WebSocket
Getting messages between users 2 and 1
C:\Users\user\Downloads\SkillBridgeConnect\server\storage.ts:112
      .from(messages)
            ^


ReferenceError: Cannot access 'messages2' before initialization
    at DatabaseStorage.getMessages (C:\Users\user\Downloads\SkillBridgeConnect\server\storage.ts:112:13)
    at <anonymous> (C:\Users\user\Downloads\SkillBridgeConnect\server\routes.ts:80:36)
    at Layer.handle [as handle_request] (C:\Users\user\Downloads\SkillBridgeConnect\node_modules\express\lib\router\layer.js:95:5)  
    at next (C:\Users\user\Downloads\SkillBridgeConnect\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (C:\Users\user\Downloads\SkillBridgeConnect\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (C:\Users\user\Downloads\SkillBridgeConnect\node_modules\express\lib\router\layer.js:95:5)  
    at C:\Users\user\Downloads\SkillBridgeConnect\node_modules\express\lib\router\index.js:284:15
    at param (C:\Users\user\Downloads\SkillBridgeConnect\node_modules\express\lib\router\index.js:365:14)
    at param (C:\Users\user\Downloads\SkillBridgeConnect\node_modules\express\lib\router\index.js:376:14)
    at Function.process_params (C:\Users\user\Downloads\SkillBridgeConnect\node_modules\express\lib\router\index.js:421:3)
    at next (C:\Users\user\Downloads\SkillBridgeConnect\node_modules\express\lib\router\index.js:280:10)
    at strategy.pass (C:\Users\user\Downloads\SkillBridgeConnect\node_modules\passport\lib\middleware\authenticate.js:355:9)        
    at C:\Users\user\Downloads\SkillBridgeConnect\node_modules\passport\lib\strategies\session.js:120:12
    at pass (C:\Users\user\Downloads\SkillBridgeConnect\node_modules\passport\lib\authenticator.js:352:31)
    at deserialized (C:\Users\user\Downloads\SkillBridgeConnect\node_modules\passport\lib\authenticator.js:364:7)
    at <anonymous> (C:\Users\user\Downloads\SkillBridgeConnect\server\auth.ts:62:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)

    at Layer.handle [as handle_request] (C:\Users\user\Downloads\SkillBridgeConnect\node_modules\express\lib\router\layer.js:95:5)  
    at C:\Users\user\Downloads\SkillBridgeConnect\node_modules\express\lib\router\index.js:284:15
    at param (C:\Users\user\Downloads\SkillBridgeConnect\node_modules\express\lib\router\index.js:365:14)
    at param (C:\Users\user\Downloads\SkillBridgeConnect\node_modules\express\lib\router\index.js:376:14)
    at Function.process_params (C:\Users\user\Downloads\SkillBridgeConnect\node_modules\express\lib\router\index.js:421:3)
    at next (C:\Users\user\Downloads\SkillBridgeConnect\node_modules\express\lib\router\index.js:280:10)
    at strategy.pass (C:\Users\user\Downloads\SkillBridgeConnect\node_modules\passport\lib\middleware\authenticate.js:355:9)        
    at C:\Users\user\Downloads\SkillBridgeConnect\node_modules\passport\lib\strategies\session.js:120:12
    at pass (C:\Users\user\Downloads\SkillBridgeConnect\node_modules\passport\lib\authenticator.js:352:31)
    at deserialized (C:\Users\user\Downloads\SkillBridgeConnect\node_modules\passport\lib\authenticator.js:364:7)
    at <anonymous> (C:\Users\user\Downloads\SkillBridgeConnect\server\auth.ts:62:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)

    at param (C:\Users\user\Downloads\SkillBridgeConnect\node_modules\express\lib\router\index.js:365:14)
    at param (C:\Users\user\Downloads\SkillBridgeConnect\node_modules\express\lib\router\index.js:376:14)
    at Function.process_params (C:\Users\user\Downloads\SkillBridgeConnect\node_modules\express\lib\router\index.js:421:3)
    at next (C:\Users\user\Downloads\SkillBridgeConnect\node_modules\express\lib\router\index.js:280:10)
    at strategy.pass (C:\Users\user\Downloads\SkillBridgeConnect\node_modules\passport\lib\middleware\authenticate.js:355:9)        
    at C:\Users\user\Downloads\SkillBridgeConnect\node_modules\passport\lib\strategies\session.js:120:12
    at pass (C:\Users\user\Downloads\SkillBridgeConnect\node_modules\passport\lib\authenticator.js:352:31)
    at deserialized (C:\Users\user\Downloads\SkillBridgeConnect\node_modules\passport\lib\authenticator.js:364:7)
    at <anonymous> (C:\Users\user\Downloads\SkillBridgeConnect\server\auth.ts:62:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)

    at next (C:\Users\user\Downloads\SkillBridgeConnect\node_modules\express\lib\router\index.js:280:10)
    at strategy.pass (C:\Users\user\Downloads\SkillBridgeConnect\node_modules\passport\lib\middleware\authenticate.js:355:9)        
    at C:\Users\user\Downloads\SkillBridgeConnect\node_modules\passport\lib\strategies\session.js:120:12
    at pass (C:\Users\user\Downloads\SkillBridgeConnect\node_modules\passport\lib\authenticator.js:352:31)
    at deserialized (C:\Users\user\Downloads\SkillBridgeConnect\node_modules\passport\lib\authenticator.js:364:7)
    at <anonymous> (C:\Users\user\Downloads\SkillBridgeConnect\server\auth.ts:62:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)

    at deserialized (C:\Users\user\Downloads\SkillBridgeConnect\node_modules\passport\lib\authenticator.js:364:7)
    at <anonymous> (C:\Users\user\Downloads\SkillBridgeConnect\server\auth.ts:62:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)


Node.js v21.6.1